#!/usr/bin/env bash

DATA=w_5_d_10_c_20_i_50.data
DATA=w_2_d_10_c_20_i_100.data
tmux send-keys -t 0 "clear && tmux clear-history && ./deployJMcast.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_system_config.json" Enter
tmux send-keys -t 1 "clear && tmux clear-history && ./deployOracle.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_system_config.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_partitioning.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/$DATA localhost 50000 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/logs 900 20000 |& tee oracle.out" Enter
tmux send-keys -t 2 "clear && tmux clear-history && ./deployServer.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_system_config.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_partitioning.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/$DATA localhost 50000 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/logs 900 20000 |& tee server.out" Enter
tmux send-keys -t 3 "clear && tmux clear-history && ./deployClient.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/$DATA 0|& tee client1.out" Enter
#tmux send-keys -t 3 "clear && tmux clear-history && ./deployClient.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/$DATA 5|& tee client1.out" Enter
#tmux send-keys -t 4 "clear && tmux clear-history && ./deployClient.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/$DATA 2|& tee client2.out" Enter



# ./deployOracle.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_system_config.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_partitioning.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/w_2_d_10_c_100_i_1000.data localhost 50000 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/logs 90 20000


# ./deployServer.py /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_system_config.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_partitioning.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/w_2_d_10_c_100_i_1000.data localhost 50000 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/logs 90 20000
# java -XX:+UseG1GC -Xmx2g -Dlog4j.configuration=file:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/log4jLocal.xml -cp '/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dependencies/guava-19.0.jar:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarV2/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/libjmcast/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/libmcad/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/netwrapper/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/ridge/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/sense/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dependencies/*' -DHOSTNAME=0-0 ch.usi.dslab.lel.dynastar.tpcc.TpccServer 0 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_system_config.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_partitioning.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/w_2_d_10_c_100_i_1000.data localhost 50000 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/logs 90 20000
# java -XX:+UseG1GC -Xmx2g -Dlog4j.configuration=file:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/log4jLocal.xml -cp '/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dependencies/guava-19.0.jar:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarV2/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/libjmcast/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/libmcad/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/netwrapper/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/ridge/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/sense/target/classes:/Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dependencies/*' -DHOSTNAME=0-0 ch.usi.dslab.lel.dynastar.tpcc.TpccServer 1 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_system_config.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/systemConfigs/jmcast_minimal_partitioning.json /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/bin/databases/w_2_d_10_c_100_i_1000.data localhost 50000 /Users/longle/Dropbox/Workspace/PhD/ScalableSMR/dynastarTPCC/logs 90 20000